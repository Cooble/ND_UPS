package cz.cooble.ndc.core;import org.joml.Vector2f;import org.joml.Vector3f;import java.io.Serializable;import java.util.HashMap;import java.util.Iterator;import java.util.Map;/** * Created by Matej on 1.1.2016. */public class NBT implements Serializable {    private Map<String, Integer> integerMap;    private Map<String, String> stringMap;    private Map<String, Boolean> boolMap;    private Map<String, NBT> varMap;    private Map<String, Float> floatMap;    public NBT() {        integerMap = new HashMap<>();        stringMap = new HashMap<>();        boolMap = new HashMap<>();        varMap = new HashMap<>();        floatMap = new HashMap<>();    }    public void put(String key, String value) {        stringMap.put(key, value);    }    public void put(String key, Integer value) {        integerMap.put(key, value);    }    public void put(String key, Vector2f value) {        NBT n = new NBT();        n.put("x",value.x);        n.put("y",value.y);        varMap.put(key, n);    }    public void put(String key, Vector3f value) {        NBT n = new NBT();        n.put("x",value.x);        n.put("y",value.y);        n.put("z",value.z);        varMap.put(key, n);    }    public Vector2f getVector2f(String key) {        NBT n = varMap.get(key);        return  new Vector2f(n.floatMap.get("x"),n.floatMap.get("y"));    }    public Vector2f getVector2f(String name, Vector2f defa) {        var out = getVector2f(name);        return out==null?defa:out;    }    public Vector3f getVector3f(String key) {        NBT n = varMap.get(key);        return  new Vector3f(n.floatMap.get("x"),n.floatMap.get("y"),n.floatMap.get("z"));    }    public Vector3f getVector3f(String name, Vector3f defa) {        var out = getVector3f(name);        return out==null?defa:out;    }    public void put(String key, Boolean value) {        boolMap.put(key, value);    }    public void put(String key, Float value) {        floatMap.put(key, value);    }    public String getString(String key) {        return stringMap.get(key);    }    public String getString(String key,String defaultVal) {        String s= stringMap.get(key);        if(s==null){            stringMap.put(key,defaultVal);            return defaultVal;        }        return s;    }    //if values do not exist -> return 0    public int getInteger(String key) {        Integer out = integerMap.get(key);        if (out == null)            return 0;        return out;    }    public boolean getBoolean(String key) {        Boolean out = boolMap.get(key);        if (out == null)            return false;        return out;    }    public float getFloat(String key) {        var out = floatMap.get(key);        if (out == null)            return 0;        return out;    }    //values or null    public Float getFloatOrNull(String key) {        return floatMap.get(key);    }    public Integer getIntegerOrNull(String key) {        return integerMap.get(key);    }    public Boolean getBooleanOrNull(String key) {        return boolMap.get(key);    }    //can set default values if null    public int getInteger(String key, int defaultVal) {        Integer out = integerMap.get(key);        if (out == null) {            integerMap.put(key, defaultVal);            return defaultVal;        }        return out;    }    public boolean getBoolean(String key, boolean defaultVal) {        Boolean out = boolMap.get(key);        if (out == null) {            boolMap.put(key, defaultVal);            return defaultVal;        }        return out;    }    public double getFloat(String key, float defaultVal) {        var out = floatMap.get(key);        if (out == null) {            floatMap.put(key, defaultVal);            return defaultVal;        }        return out;    }    public NBT getNBT(String key) {        NBT out;        out = varMap.get(key);        if (out != null)            return out;        else {            out = new NBT();            varMap.put(key, out);            return out;        }    }    public void put(String key, NBT val) {        varMap.put(key, val);    }    @Override    public String toString() {        return toString(0);    }    private String toString(int depth) {        String s = "";        String tab = "";        for (int i = 0; i < depth; i++) {            tab += "      ";        }        s += "\n";        s += tab;        for (int i = 0; i < 20; i++) {            s += "|";        }        s += "\n";        Iterator it = integerMap.entrySet().iterator();        while (it.hasNext()) {            Map.Entry pair = (Map.Entry) it.next();            s += tab;            s += pair.getKey() + " = " + pair.getValue() + "\n";        }        it = stringMap.entrySet().iterator();        while (it.hasNext()) {            Map.Entry pair = (Map.Entry) it.next();            s += tab;            s += pair.getKey() + " = " + pair.getValue() + "\n";        }        it = boolMap.entrySet().iterator();        while (it.hasNext()) {            Map.Entry pair = (Map.Entry) it.next();            s += tab;            s += pair.getKey() + " = " + pair.getValue() + "\n";        }        it = varMap.entrySet().iterator();        while (it.hasNext()) {            Map.Entry pair = (Map.Entry) it.next();            s += tab;            s += pair.getKey() + " -> " + ((NBT) pair.getValue()).toString(depth + 1) + "\n";        }        s += "\n" + tab;        for (int i = 0; i < 20; i++) {            s += "-";        }        s += "\n";        return s;    }}